server:
  port: 80

logging:
  level:
    org.springframework.cloud.gateway: debug
    org.springframework.cloud.loadbalancer: debug


spring:
  application:
    name: gateway

  cloud:
    nacos:
      discovery:
        server-addr: 127.0.0.1:8848

    gateway:
      routes:
        - id: user-service
          uri: lb://user-service
          predicates:
            - Path=/user/**
          filters:
            - StripPrefix=1

        - id: auth-service
          uri: lb://auth-service
          predicates:
            - Path=/auth/**
          filters:
            - StripPrefix=1

        - id: files-service
          uri: lb://files-service
          predicates:
            - Path=/files/**
          filters:
            - StripPrefix=1

      # 信令服务路由配置
        - id: signal-service
      # 使用 lb:ws:// 启用负载均衡并指定 WebSocket 协议
          uri: lb:ws://signal-service
          predicates:
            # 匹配你在 Apifox 中测试的路径
            - Path=/wsnuliyang/**


